<!doctype html>
<html>
  <head>
    <title>Around the World in 80 Days</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <h1>Around the World in 80 Days</h1>
    <div data-bind="foreach: destinations">
      <div class="row">
        <div class="span4">
          <a href="#" data-loading-text="Traveling..."
            data-bind="css: { 'btn btn-block': true, 'btn-success disabled': active},
                       attr: {'id': name() + '-button'},
                       text: name,
                       click: $root.travel"></a>
        </div>
        <div class="span4 offset1">
          Travel to <span class="text-info" data-bind="text: name"></span>:
          <span data-bind="text: active() ? 'done' : 'pending',
            css: {'text-success': active(), 'text-warning': !active()}"></span>
        </div>
        <div class="span3" data-bind="visible: active">
          <a href="#" class="btn btn-block btn-warning"
            data-bind="text: 'Back to ' + name(),
                       click: function(data, event) {$root.travel(data, event, true)}"></a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="span8 offset4">
        <a href="#" class="btn btn-block btn-danger" data-bind="click: clear">Clear</a>
      </div>
    </div>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/knockout.js"></script>
    <script src="js/knockout.mapping.js"></script>
    <script src="js/atw.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
          updateModel();
          ko.applyBindings(viewModel);
      });
    </script>
  </body>
</html>
